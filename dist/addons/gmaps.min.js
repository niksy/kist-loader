!function(a,b,c){function d(c,d,f,h,i){function j(){e.resolve(b.google&&b.google.maps?b.google.maps:!1)}if(e)return e.promise();e=a.Deferred();var k="loadGoogleMaps_"+g++,l={sensor:i||"false",key:d,language:f,libraries:h};return b.google&&b.google.maps?j():b.google&&b.google.load?b.google.load("maps",c||3,{other_params:a.param(l),callback:j}):(l=a.extend(l,{callback:k}),b[k]=function(){j(),setTimeout(function(){try{delete b[k]}catch(a){}},20)},a.ajax({dataType:"script",data:l,url:"//maps.googleapis.com/maps/api/js"})),e.promise()}var e,f,g=a.now();a.extend(c,{loadGmaps:function(e,g){function h(){f.resolve.apply(b,arguments),g&&g.apply(b,arguments),e.success&&e.success.apply(b,arguments)}function i(){f.reject.apply(b,arguments),e.error&&e.error.apply(b,arguments)}return f?f.promise():(f=a.Deferred(),e=e||{},d(e.mapsVersion,e.apiKey,e.language,e.libraries,e.sensor).done(function(){var a=Array.prototype.slice.call(arguments);e.plugins?c.load(e.plugins).done(function(){a.push(Array.prototype.slice.call(arguments)),h.apply(b,a)}).fail(i):h.apply(b,a)}).fail(i),f.promise())}})}(jQuery,window,$.kist.loader);