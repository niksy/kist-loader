/*! kist-loader 0.3.0 - Simple asset loader. | Author: Ivan NikoliÄ‡, 2014 | License: MIT */
!function(a,b,c){function d(b){var c=[];return"array"!==a.type(b[0])?c.push(Array.prototype.slice.call(b)):c=b,c}function e(a){return"string"==typeof a?a.split():a}function f(b){var c={};switch(a.type(b)){case"array":c.url=b;break;case"string":c.url=b;break;case"object":a.extend(c,b)}return c.url=e(c.url),a.extend({},this.defaults,c)}function g(a){var b;return a.match(s.explicitType)?b=a.match(s.explicitType)[1]:a.match(s.extension)?(b=a.match(s.extension)[1],/jpe?g|png|gif|webp/i.test(b)&&(b="img")):b="js",b}function h(a){return a.replace(s.explicitType,"")}function i(b,c){var d=g(b);switch(b=h(b),d){case"js":return m(b,a.extend({},{dataType:"script"},c));case"css":return n(b,c);case"img":return o(b,c);case"async":return p(b)}}function j(b,c){var d=[];return c=e(c),a.each(c,function(a,c){c=h(c),d.push(b+"!"+c)}),d}function k(b,c){var d=[];return b=e(b),a.each(b,function(a,b){d.push(i(b,c))}),d}function l(){var a=Array.prototype.slice.call(arguments),b=a.shift();return a[0]=f.call(this,a[0]),a[0].url=j(b,a[0].url),this.load.apply(this,a)}function m(b,c,d){return r[b]&&c.cache?r[b].dfd.promise():(r[b]={},r[b].dfd=a.ajax(a.extend({url:b,cache:!0},c)).done(d),r[b].dfd.promise())}function n(b,c){if(r[b]&&c.cache)return r[b].dfd.promise();var d,e=b,f={},g=a("link, style"),h=g.filter(function(){return a(this).data("url")===e}),i=g.filter(function(){return a(this).data("cachedUrl")});return b=c.cache?e:b+"?_="+a.now(),m(b,a.extend({},{dataType:"text"}),function(g,j,k){f.url=e,c.cache||(f.cachedUrl=b),0===h.length||c.cache||h.remove(),0!==i.length&&c.cache&&i.remove(),d=a('<link rel="stylesheet" type="text/css" href="'+b+'" />').data(f),"text/plain"===k.getResponseHeader("Content-Type")&&(d=d.add(a('<style type="text/css">'+g+"</style>").data(f))),d.appendTo(u.head)})}function o(c,d){if(r[c]&&d.cache)return r[c].dfd.promise();r[c]={},r[c].dfd=a.Deferred();var e=new Image;return r[c].dfd.always(function(){e.onload=e.onerror=e.onabort=null}),e.onload=a.proxy(r[c].dfd.resolve,b,e,"success"),e.onerror=e.onabort=a.proxy(r[c].dfd.reject,b,e,"error"),e.src=d.cache?c:c+"?_="+a.now(),r[c].dfd.promise()}function p(b){return r[b]?r[b].dfd.promise():(r[b]={},r[b].dfd=a.Deferred(),/connect\.facebook/.test(b)?id="facebook-jssdk":/platform\.twitter/.test(b)?id="twitter-wjs":/apis\.google/.test(b)&&(id="gplus-sdk"),t.fjs&&t.fjs.parentNode||(t.fjs=c.getElementsByTagName("script")[0]),c.getElementById(id)?void 0:(t.js=c.createElement("script"),t.js.src=b,id&&(t.js.id=id),t.fjs.parentNode.insertBefore(t.js,t.fjs),r[b].dfd.resolve(),r[b].dfd.promise()))}function q(){}var r={},s={extension:/\.(\w+)(?:\?.+)?$/i,explicitType:/^(\w+?)!/i},t={js:null,fjs:c.getElementsByTagName("script")[0]},u={head:a("head")};a.extend(q.prototype,{load:function(c,e){var g=a.Deferred();return c=f.call(this,c),a.when.apply(b,k(c.url,{cache:c.cache})).done(function(){g.resolve.apply(b,d(arguments)),e&&e.apply(b,d(arguments)),c.success&&c.success.apply(b,d(arguments))}).fail(function(){g.reject.apply(b,arguments),c.error&&c.error.apply(b,arguments)}),g.promise()},loadScript:a.proxy(l,null,"js"),loadStyle:a.proxy(l,null,"css"),loadImage:a.proxy(l,null,"img"),loadAsync:a.proxy(l,null,"async"),defaults:{cache:!0}}),a.kist=a.kist||{},a.kist.loader=new q}(jQuery,window,document);