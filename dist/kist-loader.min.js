/*! kist-loader 0.4.5 - Simple asset loader. | Author: Ivan NikoliÄ‡, 2014 | License: MIT */
!function(a,b,c){function d(a){for(var b=0,c=0,d=a.length;d>c;c++)b=(b<<5)-b+a.charCodeAt(c),b&=b;return b}function e(b){var c=[];return b=Array.prototype.slice.call(b),"array"!==a.type(b[0])?"undefined"===a.type(b[0])?b[0]="":c.push(b):c=b,c}function f(a){return"string"==typeof a?a.split():a}function g(b){var c={url:[""]};switch(a.type(b)){case"array":c.url=c.url.concat(b);break;case"string":c.url=f(b);break;case"object":a.extend(c,b),c.url=f(c.url)}return a.each(c.url,function(a,b){""===b&&1!==c.url.length&&c.url.splice(a,1)}),a.extend({},x.defaults,c)}function h(a){var b="js";return a.match(v.explicitType)?b=a.match(v.explicitType)[1]:a.match(v.extension)?(b=a.match(v.extension)[1],/jpe?g|png|gif|webp/i.test(b)&&(b="img")):""===a&&(b=""),b}function i(a,b){return b=j(b),b=a+"!"+b}function j(a){return a.replace(v.explicitType,"")}function k(b,c){var d=h(b);switch(b=j(b),d){case"js":return o(b,a.extend({},{dataType:"script"},c));case"css":return p(b,c);case"img":return q(b,c);case"txt":case"text":case"template":return o(b,a.extend({},{dataType:"text"},c));case"async":return r(b)}}function l(b,c){var d=[];return b=f(b),a.each(b,function(a,b){d.push(k(b,c))}),d}function m(){var b=Array.prototype.slice.call(arguments),c=b.shift();return b[0]=g(b[0]),a.each(b[0].url,function(a,d){b[0].url[a]=i(c,d)}),x.load.apply(null,b)}function n(b){return u[b.url]&&b.cache?u[b.url].dfd.promise():(b.dfd&&(u[b.url]={},u[b.url].dfd=a.Deferred()),b.promise?(b.cb(),u[b.url].dfd.promise()):b.cb())}function o(b,c){return n({url:b,cache:c.cache,dfd:!1,promise:!0,cb:function(){u[b]={},u[b].dfd=a.ajax(a.extend({url:b,cache:!0},c))}})}function p(b,c){return n({url:b,cache:c.cache,dfd:!1,promise:!1,cb:function(){var d,e=b,f={},g=a("link, style"),h=g.filter(function(){return a(this).data("url")===e}),i=g.filter(function(){return a(this).data("cachedUrl")});return b=c.cache?e:b+"?_="+a.now(),o(b,a.extend({},{dataType:"text"})).done(function(g,j,k){f.url=e,c.cache||(f.cachedUrl=b),0===h.length||c.cache||h.remove(),0!==i.length&&c.cache&&i.remove(),d=a('<link rel="stylesheet" type="text/css" href="'+b+'" />').data(f),"text/plain"===k.getResponseHeader("Content-Type")&&(d=d.add(a('<style type="text/css">'+g+"</style>").data(f))),d.appendTo(w.head)})}})}function q(c,d){return n({url:c,cache:d.cache,dfd:!0,promise:!0,cb:function(){var e=new Image;u[c].dfd.always(function(){e.onload=e.onerror=e.onabort=null}),e.onload=a.proxy(u[c].dfd.resolve,b,e,"success"),e.onerror=e.onabort=a.proxy(u[c].dfd.reject,b,e,"error"),e.src=d.cache?c:c+"?_="+a.now()}})}function r(e){return n({url:e,cache:x.defaults.cache,dfd:!0,promise:!0,cb:function(){var f,g;f=/connect\.facebook/.test(e)?"facebook-jssdk":/platform\.twitter/.test(e)?"twitter-wjs":/apis\.google/.test(e)?"gplus-sdk":"kistLoaderAsync_"+d(e),0===a("#"+f).length&&-1===a.inArray(e,t)&&(w.asyncRef=w.asyncRef||c.getElementsByTagName("script")[0],g=c.createElement("script"),g.src=e,g.id=f,w.asyncRef.parentNode.insertBefore(g,w.asyncRef),t.push(e)),u[e].dfd.resolve(g,"success",b)}})}function s(c,d){var f=a.Deferred();return c=g(c),a.when.apply(b,l(c.url,{cache:c.cache})).done(function(){var a=e(arguments);f.resolve.apply(b,a),d&&d.apply(b,a),c.success&&c.success.apply(b,a)}).fail(function(){f.reject.apply(b,arguments),c.error&&c.error.apply(b,arguments)}),f.promise()}var t=[],u={},v={extension:/\.(\w+)(?:\?.+)?$/i,explicitType:/^(\w+?)!/i},w={head:a("head")},x={load:s,loadScript:a.proxy(m,null,"js"),loadStyle:a.proxy(m,null,"css"),loadImage:a.proxy(m,null,"img"),loadText:a.proxy(m,null,"txt"),loadAsync:a.proxy(m,null,"async"),defaults:{cache:!0}};a.kist=a.kist||{},a.kist.loader=x}(jQuery,window,document);