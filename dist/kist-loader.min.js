/*! kist-loader 0.3.0 - Simple asset loader. | Author: Ivan NikoliÄ‡, 2014 | License: MIT */
!function(a,b){function c(b){var c=[];return b=Array.prototype.slice.call(b),"array"!==a.type(b[0])?c.push(b):c=b,c}function d(a){return"string"==typeof a?a.split():a}function e(b){var c={};switch(a.type(b)){case"array":c.url=b;break;case"string":c.url=b;break;case"object":a.extend(c,b)}return c.url=d(c.url),a.extend({},this.defaults,c)}function f(a){var b="js";return a.match(r.explicitType)?b=a.match(r.explicitType)[1]:a.match(r.extension)&&(b=a.match(r.extension)[1],/jpe?g|png|gif|webp/i.test(b)&&(b="img")),b}function g(a,b){return b=h(b),b=a+"!"+b}function h(a){return a.replace(r.explicitType,"")}function i(b,c){var d=f(b);switch(b=h(b),d){case"js":return l(b,a.extend({},{dataType:"script"},c));case"css":return m(b,c);case"img":return n(b,c);case"async":return o(b)}}function j(b,c){var e=[];return b=d(b),a.each(b,function(a,b){e.push(i(b,c))}),e}function k(){var b=Array.prototype.slice.call(arguments),c=b.shift();return b[0]=e.call(this,b[0]),a.each(b[0].url,function(a,d){b[0].url[a]=g(c,d)}),this.load.apply(this,b)}function l(b,c){return q[b]&&c.cache?q[b].dfd.promise():(q[b]={},q[b].dfd=a.ajax(a.extend({url:b,cache:!0},c)),q[b].dfd.promise())}function m(b,c){if(q[b]&&c.cache)return q[b].dfd.promise();var d,e=b,f={},g=a("link, style"),h=g.filter(function(){return a(this).data("url")===e}),i=g.filter(function(){return a(this).data("cachedUrl")});return b=c.cache?e:b+"?_="+a.now(),l(b,a.extend({},{dataType:"text"})).done(function(g,j,k){f.url=e,c.cache||(f.cachedUrl=b),0===h.length||c.cache||h.remove(),0!==i.length&&c.cache&&i.remove(),d=a('<link rel="stylesheet" type="text/css" href="'+b+'" />').data(f),"text/plain"===k.getResponseHeader("Content-Type")&&(d=d.add(a('<style type="text/css">'+g+"</style>").data(f))),d.appendTo(s.head)})}function n(c,d){if(q[c]&&d.cache)return q[c].dfd.promise();q[c]={},q[c].dfd=a.Deferred();var e=new Image;return q[c].dfd.always(function(){e.onload=e.onerror=e.onabort=null}),e.onload=a.proxy(q[c].dfd.resolve,b,e,"success"),e.onerror=e.onabort=a.proxy(q[c].dfd.reject,b,e,"error"),e.src=d.cache?c:c+"?_="+a.now(),q[c].dfd.promise()}function o(b){if(q[b])return q[b].dfd.promise();q[b]={},q[b].dfd=a.Deferred();var c,d;return/connect\.facebook/.test(b)?c="facebook-jssdk":/platform\.twitter/.test(b)?c="twitter-wjs":/apis\.google/.test(b)&&(c="gplus-sdk"),0===a("#"+c).length&&(d=a("<script />",{src:b,id:c}),d.appendTo(s.head)),q[b].dfd.resolve(d[0],"success"),q[b].dfd.promise()}function p(){}var q={},r={extension:/\.(\w+)(?:\?.+)?$/i,explicitType:/^(\w+?)!/i},s={head:a("head")};a.extend(p.prototype,{load:function(d,f){var g=a.Deferred();return d=e.call(this,d),a.when.apply(b,j(d.url,{cache:d.cache})).done(function(){var a=c(arguments);g.resolve.apply(b,a),f&&f.apply(b,a),d.success&&d.success.apply(b,a)}).fail(function(){g.reject.apply(b,arguments),d.error&&d.error.apply(b,arguments)}),g.promise()},loadScript:a.proxy(k,null,"js"),loadStyle:a.proxy(k,null,"css"),loadImage:a.proxy(k,null,"img"),loadAsync:a.proxy(k,null,"async"),defaults:{cache:!0}}),a.kist=a.kist||{},a.kist.loader=new p}(jQuery,window,document);