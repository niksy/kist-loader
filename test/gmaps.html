<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Google Maps</title>
	<style>
		.sandbox {
			width:500px; height:500px;
		}
	</style>
</head>
<body>

	<button type="button" class="gmaps">Load Google Maps</button>

	<div class="sandbox"></div>

	<script src="../bower_components/jquery/dist/jquery.js"></script>
	<script src="../src/kist-loader.js"></script>
	<script src="../src/plugins/gmaps.js"></script>
	<script>

		$('.gmaps').on('click', function () {

			$.kist.loader
				.loadGmaps({
					// apiKey: 'API KEY',
					plugins: [ '../bower_components/gmaps-infobox/index.js', '../bower_components/gmaps-maplabel/index.js' ],
					language: 'en',
					libraries: 'geometry'
				})
				.done(function () {

					console.info( 'Done' );
					console.log( arguments );

					var map = new google.maps.Map($('.sandbox')[0],{
						zoom: 8,
						center: new google.maps.LatLng(-34.397, 150.644)
					});

					var marker = new google.maps.Marker({
						map: map,
						position: new google.maps.LatLng(-34.397, 150.644),
						visible: true
					});

					var boxText = document.createElement("div");
					boxText.style.cssText = 'border: 1px solid black; margin-top: 8px; background: yellow; padding: 5px;';
					boxText.innerHTML = 'Testingâ€¦';

					var ib = new InfoBox({
						content: boxText
					});
					ib.open(map, marker);

				});

		});

	</script>

</body>
</html>
