<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Loaders</title>
	<style>
		#gmapsLoader-test {
			width:500px; height:500px;
		}
	</style>
</head>
<body>

	<div>
		<h2><code>$.cachedGetScript</code></h2>
		<textarea id="cachedGetScript-test" readonly="readonly" cols="30" rows="10"></textarea>
	</div>

	<div>
		<h2><code>$.loadImage</code></h2>
		<img id="loadImage-test" src="" alt="" />
	</div>

	<div>
		<h2><code>$.gmapsLoader</code></h2>
		<div id="gmapsLoader-test"></div>
	</div>

	<div>
		<h2><code>$.multiGetScript</code></h2>
		<textarea id="multiGetScript-01-test" readonly="readonly" cols="30" rows="10"></textarea>
		<textarea id="multiGetScript-02-test" readonly="readonly" cols="30" rows="10"></textarea>
	</div>

	<div>
		<h2><code>$.multiCachedGetScript</code></h2>
		<textarea id="multiCachedGetScript-01-test" readonly="readonly" cols="30" rows="10"></textarea>
		<textarea id="multiCachedGetScript-02-test" readonly="readonly" cols="30" rows="10"></textarea>
	</div>

	<script src="../bower_components/jquery/jquery.min.js"></script>
	<script src="../src/util/createCache.js"></script>
	<script src="../src/cachedGetScript.js"></script>
	<script src="../src/loadImage.js"></script>
	<script src="../src/gmapsLoader.js"></script>
	<script src="../src/multiGetScript.js"></script>
	<script>

		$(document).on('ready', function () {

			/**
			 * Test $.cachedGetScript
			 */
			$.cachedGetScript('../src/cachedGetScript.js').done(function ( data ) {
				$('#cachedGetScript-test').val( data );
				console.info( '$.cachedGetScript done!' );
			});

			/**
			 * Test $.loadImage
			 */
			$.loadImage('http://placekitten.com/500/500').done(function () {
				$('#loadImage-test').attr('src', 'http://placekitten.com/500/500');
				console.info( '$.loadImage done!' );
			});

			/**
			 * Test $.gmapsLoader
			 */
			$.gmapsLoader({
				// apiKey: 'API KEY',
				plugins: [ '../bower_components/gmaps-infobox/index.js', '../bower_components/gmaps-maplabel/index.js' ],
				language: 'en',
				libraries: 'geometry'
			})
			.done(function () {

				var map = new google.maps.Map($('#gmapsLoader-test')[0],{
					zoom: 8,
					center: new google.maps.LatLng(-34.397, 150.644)
				});

				var marker = new google.maps.Marker({
					map: map,
					position: new google.maps.LatLng(-34.397, 150.644),
					visible: true
				});

				var boxText = document.createElement("div");
				boxText.style.cssText = 'border: 1px solid black; margin-top: 8px; background: yellow; padding: 5px;';
				boxText.innerHTML = 'Testingâ€¦';

				var ib = new InfoBox({
					content: boxText
				});
				ib.open(map, marker);

				console.info( '$.gmapsLoader done!' );

			});

			/**
			 * Test $.multiGetScript and $.multiCachedGetScript
			 */
			var multiGetScriptDeps = [ '../src/util/createCache.js', '../src/loadImage.js' ];

			$.multiGetScript( multiGetScriptDeps ).done(function ( data ) {
				$('#multiGetScript-01-test').val( data[0][0] );
				$('#multiGetScript-02-test').val( data[1][0] );
				console.info( '$.multiGetScript done!' );
			});

			$.multiCachedGetScript( multiGetScriptDeps ).done(function ( data ) {
				$('#multiCachedGetScript-01-test').val( data[0][0] );
				$('#multiCachedGetScript-02-test').val( data[1][0] );
				console.info( '$.multiCachedGetScript done!' );
			});

		});

	</script>
</body>
</html>
